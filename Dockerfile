FROM debian:stretch

RUN apt-get update && apt-get install -y curl unzip
RUN mkdir /data
RUN curl -o /data/d3917d9b-aacb-51e6-8a74-10769cea076c.zip -u worsttmsever@gmail.com:RcUjCb9kJ236 https://peps.cnes.fr/resto/collections/S2ST/d3917d9b-aacb-51e6-8a74-10769cea076c/download && \
    cd /data/ && unzip d3917d9b-aacb-51e6-8a74-10769cea076c.zip -d d3917d9b-aacb-51e6-8a74-10769cea076c && rm d3917d9b-aacb-51e6-8a74-10769cea076c.zip && \
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R60m/ && \
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R20m/ && \
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R10m/T31TCJ_20180620T105031_B08_10m.jp2 && \  
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R10m/T31TCJ_20180620T105031_AOT_10m.jp2 && \  
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R10m/T31TCJ_20180620T105031_WVP_10m.jp2 && \  
    rm -rf d3917d9b-aacb-51e6-8a74-10769cea076c/S2A_MSIL2A_20180620T105031_N0208_R051_T31TCJ_20180620T165727.SAFE/GRANULE/L2A_T31TCJ_A015635_20180620T105211/IMG_DATA/R10m/T31TCJ_20180620T105031_TCI_10m.jp2 

CMD /bin/cp -r /data/* /tmp 

